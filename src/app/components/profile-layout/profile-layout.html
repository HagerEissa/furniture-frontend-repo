<div class="profile-page">
    <aside class="profile-sidebar">
        <div class="avatar">
        @if (selectedFilePreview) {
            <img [src]="selectedFilePreview" alt="Avatar" />
        } @else {
            <div class="avatar-placeholder">No Image</div>
        }
        </div>

        <nav class="profile-nav">
        <ul>
            <li><a routerLink="details">My Details</a></li>
            <li><a routerLink="orders">My Orders</a></li>
            <li><a routerLink="settings">Settings</a></li>
        </ul>
        </nav>
    </aside>

    <main class="profile-content">
        <header>
        <h1>My Profile</h1>
        <p>Manage your profile information</p>
        </header>

        <section class="profile-details">
        <form (ngSubmit)="updateProfile()" #profileForm="ngForm">
            <div class="form-group">
            <label for="name">Name</label>
            <input id="name" type="text" [(ngModel)]="user.name" name="name" required />
            </div>

            <div class="form-group">
            <label for="email">Email</label>
            <input id="email" type="email" [(ngModel)]="user.email" name="email" required />
            </div>

            <div class="form-group">
            <label for="phone">Phone</label>
            <input id="phone" type="text" [(ngModel)]="user.phone" name="phone" />
            </div>

            <div class="form-group">
            <label for="oldPassword">Old Password</label>
            <input id="oldPassword" type="password" [(ngModel)]="user.oldPassword" name="oldPassword" />
            </div>

            <div class="form-group">
            <label for="newPassword">New Password</label>
            <input id="newPassword" type="password" [(ngModel)]="user.newPassword" name="newPassword" />
            </div>

            <div class="file-save-group">
            <div class="file-input-wrapper">
                <input type="file" id="fileInput" class="file-input" (change)="onFileSelected($event)"/>
                <label class="file-label" for="fileInput">Upload Image</label>
                <span class="file-name">{{ selectedFileName || 'No file chosen' }}</span>
            </div>
            <button type="submit" [disabled]="!profileForm.form.valid">Save</button>
            </div>
        </form>
        </section>
    </main>
</div>
